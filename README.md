rhg
===

rhg


Глава 2. Объекты
===

Структура Руби объектов

Начиная с этой главы мы начнем изучение исходного кода `ruby`, мы начнем с изучения обявления струтур объетов.

Какаие условия необходимы для существования объекта? На это вопрос можно дать множество ответов, но на самом деле небходимо выполнить три условия:
1. Реализовать отличимость отдельной сущности от всех остальных (наделение идентификатором)
2. Наделить сущность возможность отвечать на запросы (вызовы методов)
3. Позволить сущность хранить внутреннее состояние (переменные экземплра)

В этой главе мы поочереди подтвердим все три утверждения.

Наиболее интересным файлом в этой главе будет `ruby.h`, но мы также частично рассмотрим другие файлы такие как `object.c`, `class.c` or `variable.c`.


Структура типов VALUE и objects
Содержание объекта в `ruby` выражется посредством структур написанных на языке C и всегда передается через указатели на эти структуры. Для каждого класса используются различные структуры, но типом для указателя на класс всегда будет структура VALUE(схема 1).

[http://rhg.rubyforge.org/images/ch_object_value.png]
Схема 1

Вот так выглядит объявление VALUE
```
# (ruby.h)
71  typedef unsigned long VALUE;
```
